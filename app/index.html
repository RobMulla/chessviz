<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <div class="top">
    Chess Visualization
  </div>

  <title class='title'>Chess Viz Final Project</title>
  <meta name="description" content="W209 Final Project">
  <meta name="author" content="Students">

  <!-- Our CSS -->
  <link href="./css/chessviz.css" rel="stylesheet"> <!-- For chess viz -->

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <!-- Bootstrap JS -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <!-- Highcharts -->
  <script src="https://code.highcharts.com/highcharts.js"> </script>


</head>

<body>

  <!-- Load JS libraries -->
  <script src="https://d3js.org/d3.v3.min.js"></script> <!-- D3 -->
  <script src="./js/lib/ChessDataViz.js"></script>  <!-- For chess viz -->
  <script src="http://d3js.org/queue.v1.min.js"></script> <!-- for queue -->

  <!-- DROPDOWN MENUS-->
  <div class="left">
    <div class="select-style">
      <p> Select Viz Type:</p>
      <select id="viz_type" name="viz_type">
        <option value ="MovePaths" selected>Move Paths</option>
        <option value ="HeatMap">Heatmap</option>
      </select>​
    </div>

    <p> Choose Grand Master:</p>
    <div class="select-style">
      <select id="json_sources" name="json_sources">
        <option value ="./data/json/as_color/Kasparov.asblack_stats.json" selected>Kasparov</option>
        <option value ="./data/json/as/Carlsen_stats.json">Carlsen</option>
        <option value ="./data/json/stats/Fischer_stats.json">Fischer</option>
        <option value ="./data/json/stats/Karpov_stats.json">Karpov</option>
        <option value ="./data/json/stats/Capablanca_stats.json">Capablanca</option>
        <option value ="./data/json/stats/Lasker_stats.json">Lasker</option>
        <option value ="./data/json/stats/Morphy_stats.json">Morphy</option>
        <option value ="./data/json/stats/Kramnik_stats.json">Kramnik</option>
        <option value ="./data/json/stats/Botvinnik_stats.json">Botvinnik</option>
      </select>​
    </div>

    <p> If you selected move paths, change piece here:</p>

    <div class="select-style">
      <select id="piece_selector" name="piece_selector">
        <option value ="a2" selected>a2</option>
        <option value ="b2">b2</option>
        <option value ="c2">c2</option>
        <option value ="d2">d2</option>
        <option value ="e2">e2</option>
        <option value ="f2">f2</option>
        <option value ="g2">g2</option>
        <option value ="h2">h2</option>
        <option value ="a7">a7</option>
        <option value ="b7">b7</option>
        <option value ="c7">c7</option>
        <option value ="d7">d7</option>
        <option value ="e7">e7</option>
        <option value ="f7">f7</option>
        <option value ="g7">g7</option>
        <option value ="h7">h7</option>
        
        <!-- Major Pieces -->
        <option value ="Nb1">Nb1</option>
        <option value ="Nb8">Nb8</option>
        <option value ="Ng1">Ng1</option>
        <option value ="Nb1">Ng8</option>
        <option value ="Bc1">Bc1</option>
        <option value ="Bc8">Bc8</option>
        <option value ="Bf1">Bf1</option>
        <option value ="Bf8">Bf8</option>
        <option value ="Ra1">Ra1</option>
        <option value ="Ra8">Ra8</option>
        <option value ="Rh1">Rh1</option>
        <option value ="Rh8">Rh8</option>
        <option value ="Qd1">Qd1</option>
        <option value ="Qd8">Qd8</option>
        <option value ="Ke1">Ke1</option>
        <option value ="Ke8">Ke8</option>
      </div>

      <div class="select-style">
      </select>​
      <p> If you selected heatmap, choose player color and piece here:</p>
      <select id="heatmap_color" name="heatmap_color">
        <option value ="w" selected>white</option>
        <option value ="b">black</option>
      </select>​
    </div>

    <div class="select-style">
      <select id="heatmap_piece" name="heatmap_piece">
        <option value ="all" selected>all</option>
        <option value ="k">King</option>
        <option value ="q">Queen</option>
        <option value ="r">Rook</option>
        <option value ="n">Knight</option>
        <option value ="b">Bishop</option>
        <option value ="p">Pawn</option>
      </select>​
    </div>

  </div>
  
  <!-- MAIN BOARD -->
  <div class="main">
    <div id="chess_board" class="cdv-move-paths"></div>

    <div>


  <script type="text/javascript" src="./js/myBoard.js"></script>

</div>

<div id='piece_selector2'>
  
    <div id="piecetable"></div>
    <script type="text/javascript">
        var width = 400;
        var height = 200;
        var bPawnImg = 'https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg';
        var bBishopImg = 'https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg';
        var bKnightImg = 'https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg';
        var bRookImg = 'https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg';
        var bQueenImg = 'https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg';
        var bKingImg = 'https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg';
        var wPawnImg = 'https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg';
        var wBishopImg = 'https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg';
        var wKnightImg = 'https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg';
        var wRookImg = 'https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg';
        var wQueenImg = 'https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg';
        var wKingImg = 'https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg';
    var data = [
    {"url":bRookImg,
    "row":1,
    "column":1,
    "piece":"a8"
    },
    {"url":bKnightImg,
    "row":1,
    "column":2,
    "piece":"b8"
    },
    {"url":bBishopImg,
    "row":1,
    "column":3,
    "piece":"c8"
    },
    {"url":bQueenImg,
    "row":1,
    "column":4,
    "piece":"d8"
    },
    {"url":bKingImg,
    "row":1,
    "column":5,
    "piece":"e8"
    },
    {"url":bBishopImg,
    "row":1,
    "column":6,
    "piece":"f8"
    },
    {"url":bKnightImg,
    "row":1,
    "column":7,
    "piece":"g8"
    },
    {"url":bRookImg,
    "row":1,
    "column":8,
    "piece":"h8"
    },
    {"url":bPawnImg,
    "row":2,
    "column":1,
    "piece":"a7"
    },
    {"url":bPawnImg,
    "row":2,
    "column":2,
    "piece":"b7"
    },
    {"url":bPawnImg,
    "row":2,
    "column":3,
    "piece":"c7"
    },
    {"url":bPawnImg,
    "row":2,
    "column":4,
    "piece":"d7"
    },
    {"url":bPawnImg,
    "row":2,
    "column":5,
    "piece":"e7"
    },
    {"url":bPawnImg,
    "row":2,
    "column":6,
    "piece":"f7"
    },
    {"url":bPawnImg,
    "row":2,
    "column":7,
    "piece":"g7"
    },
    {"url":bPawnImg,
    "row":2,
    "column":8,
    "piece":"h7"
    },
    {"url":wPawnImg,
    "row":3,
    "column":1,
    "piece":"a2"
    },
    {"url":wPawnImg,
    "row":3,
    "column":2,
    "piece":"b2"
    },
    {"url":wPawnImg,
    "row":3,
    "column":3,
    "piece":"c2"
    },
    {"url":wPawnImg,
    "row":3,
    "column":4,
    "piece":"d2"
    },
    {"url":wPawnImg,
    "row":3,
    "column":5,
    "piece":"e2"
    },
    {"url":wPawnImg,
    "row":3,
    "column":6,
    "piece":"f2"
    },
    {"url":wPawnImg,
    "row":3,
    "column":7,
    "piece":"g2"
    },
    {"url":wPawnImg,
    "row":3,
    "column":8,
    "piece":"h2"
    },
    {"url":wRookImg,
    "row":4,
    "column":1,
    "piece":"a1"
    },
    {"url":wKnightImg,
    "row":4,
    "column":2,
    "piece":"b1"
    },
    {"url":wBishopImg,
    "row":4,
    "column":3,
    "piece":"c1"
    },
    {"url":wQueenImg,
    "row":4,
    "column":4,
    "piece":"d1"
    },
    {"url":wKingImg,
    "row":4,
    "column":5,
    "piece":"e1"
    },
    {"url":wBishopImg,
    "row":4,
    "column":6,
    "piece":"f1"
    },
    {"url":wKnightImg,
    "row":4,
    "column":7,
    "piece":"g1"
    },
    {"url":wRookImg,
    "row":4,
    "column":8,
    "piece":"h1"
    }
    ];
        var drawPieceTable = function(data) {
            var svg = d3.select("#piecetable")
                .append("svg")
                .attr("width", width)
                .attr("height", height);
            //console.log(data);
            
            svg.selectAll("img")
              .data(data)
              .enter()
              .append("svg:image")
              .attr("xlink:href", function(d) {return d.url;})
              .attr("x", function(d) {return (d.column - 1) * (width / 8);})
              .attr("y", function(d) {return (d.row - 1) * (height / 4);})
              .attr("width", width / 8)
              .attr("height", height / 4)
              .on('click', function(d) {console.log(d.piece);});
        
        }
    drawPieceTable(data);
        
    </script>

</div>

<div id="compare_players" ></div>

<script type="text/javascript" src="./js/compareChart.js"> </script>

<script type="text/javascript" name="click piece script">
function pieceSelect(movePathPiece, heatMapPiece, playerColor){
  console.log("Movepath piece is: ",movePathPiece," Heatmap piece is: ",heatMapPiece, " Player color is: ",playerColor)
  document.getElementById('piece_selector').value=movePathPiece
  document.getElementById('heatmap_piece').value=heatMapPiece
  document.getElementById('heatmap_color').value=playerColor
  change();
}

</script>
</div>

</body>
